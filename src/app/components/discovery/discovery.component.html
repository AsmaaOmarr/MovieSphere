<!-- search bar -->

<div
  *ngIf="showAlert"
  class="alert alert-success alert-dismissible fade show position-fixed top-3 start-50 translate-middle-x shadow"
  style="z-index: 1050; width: 30%; text-align: center"
  role="alert"
>
  {{alertMessage}}
  <button
    type="button"
    class="btn-close"
    (click)="showAlert = false"
    aria-label="Close"
  ></button>
</div>
<div class="position-relative w-50 mx-auto mt-4">
  <input
    class="form-control rounded-5 ps-4"
    type="search"
    placeholder="What movie are you looking for? ðŸŽ¬"
    (input)="searchMovie($event)"
  />
  <i
    class="bi bi-search position-absolute top-50 end-0 translate-middle-y me-3 text-secondary"
  ></i>
</div>
<!-- movies -->
<div class="mx-2 my-5 d-flex flex-wrap justify-content-evenly">
  @for (movie of movies; track $index) {
  <app-movie-card
    [movie]="movie"
    [isFavorite]="isFavorite(movie.id)"
    (favoriteToggled)="onFavoriteToggled($event)"
  ></app-movie-card>
  }
</div>

<!-- pagination -->
<div class="w-25 mx-auto ps-5">
  <ul class="pagination">
    <li class="page-item">
      <button
        class="page-link"
        (click)="prevPage()"
        [disabled]="currentPage === 1"
      >
        <span>&laquo;</span>
      </button>
    </li>
    <li class="page-item">
      <button class="page-link" (click)="changePage(1)">1</button>
    </li>
    <li class="page-item">
      <button class="page-link" (click)="changePage(2)">2</button>
    </li>
    <li class="page-item">
      <button class="page-link" (click)="changePage(3)">3</button>
    </li>
    <li class="page-item">
      <button class="page-link" (click)="nextPage()">
        <span>&raquo;</span>
      </button>
    </li>
  </ul>
</div>
